@using JasperSiteCore.Models.Database
@using JasperSiteCore.Models
@inject DatabaseContext databaseContext
@{ var query = Convert.ToInt32(Context.Request.Query["id"]);}
@{
    string categoryName = @J.GetCategoryNameById(query,false);
    Layout = Helper.JasperUrl("_Layout.cshtml", addTilde: true);
    ViewData["Title"] = categoryName;
}



<div class="container-fluid">
    <div class="jumbotron">
        <h1> @(string.IsNullOrEmpty(categoryName)? "Kategorie nebyla nalezena": categoryName)</h1>
    </div>




    @if (J.GetAllArticles(query,false).Count() > 0)
    {
        @foreach (Article article in J.GetAllArticles(query,false))
        {

            <div class="list-group">
                <a href="/Home/Article?id=@article.Id" class="list-group-item list-group-item-action flex-column align-items-start ">
                    <div class="d-flex w-100 justify-content-between">
                        <h5 class="mb-1">@article.Name</h5>
                        <small>@article.PublishDate.ToLongDateString()</small>
                    </div>
                    <p class="mb-1"><i></i></p>
                    <small>@article.Category.Name</small>
                </a>
            </div>
        }
    }
    else
    {
        <div class="list-group">
            <div class="list-group-item list-group-item-action flex-column align-items-start ">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">Žádné články k dispozici</h5>

                </div>

            </div>
        </div>



    }




</div>
