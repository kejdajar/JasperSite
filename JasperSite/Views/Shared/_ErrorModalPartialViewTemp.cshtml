
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer

@if (TempData["ErrorMessage"] != null)
{
    <script>
$(document).ready(function () {

            var errorPanel = $( '<div id="myModal" class="modal fade" role="dialog" style="z-index:99999!important">'+
                '<div class="modal-dialog">'+
                    '<div class="modal-content" style="max-height:500px">'+
                '<div class="modal-header">' +
                 '<h4 class="modal-title" style="margin-left:20px">@Localizer["Error"]</h4>'+
                            '<button type="button" class="close" data-dismiss="modal">&times;</button>'+                           
                        '</div>'+
                        '<div class="modal-body" style="overflow-y: auto;">'+
                            '@Localizer["Your request could not be completed."] <br />'+
                            '<text> @Localizer["Error"]: @TempData["ErrorMessage"].ToString() </text>'+
                        '</div>'+
                        '<div class="modal-footer">'+
                            '<button type="button" class="btn btn-jasper" data-dismiss="modal" title="@Localizer["Close"]">@Localizer["Close"]</button>'+
                       '</div>'+
                   '</div>'+
                '</div>'+
            '</div>');


            errorPanel.css({
                "display": "block",
                });

            $("body").append(errorPanel);
            $("#myModal").modal("toggle");

            // Modal has to be deleted after it was closed - multiple modals in one page are not supported by bootstrap
            $('#myModal').on('hidden.bs.modal', function () {
                                                              $("#myModal").remove();
                                                             });

    });
    </script>}


